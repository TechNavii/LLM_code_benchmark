[pytest]
testpaths = tests harness/tests
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
pythonpath = .

# Coverage configuration
addopts = --cov=server --cov=harness --cov-report=term-missing --cov-report=html --cov-report=xml --junit-xml=junit.xml --cov-fail-under=24
# Baseline set to 24% to match current coverage for brownfield project
# This prevents coverage regression while allowing incremental improvement
# Coverage will be tracked in htmlcov/ directory
# JUnit XML report will be generated for CI artifact upload and PR annotations
# Coverage XML report will be generated for advanced coverage analysis in CI

# Warning filters - CI will add stricter filters via -W flags
# Local development allows warnings to pass through
filterwarnings =
    # Ignore specific third-party library warnings that we cannot fix
    # Add new entries here with justification when whitelisting unavoidable warnings